{"ast":null,"code":"import _regeneratorRuntime from\"/home/eddie/Code/guided-capstone-project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/eddie/Code/guided-capstone-project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";var BASE_URL=\"https://www.anapioficeandfire.com/api\";var IceAndFireApi={getCharactersWithPagination:function(){var _getCharactersWithPagination=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(page,pageSize){var response,total;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"\".concat(BASE_URL,\"/characters\"),{params:{page:page,pageSize:pageSize}});case 3:response=_context.sent;total=response.headers[\"x-total-count\"]!==undefined?parseInt(response.headers[\"x-total-count\"],10):0;if(!isNaN(total)){_context.next=8;break;}console.error(\"Invalid total count from API:\",response.headers[\"x-total-count\"]);throw new Error(\"Invalid total count from API\");case 8:return _context.abrupt(\"return\",{data:response.data,total:total});case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.error(\"Error fetching characters:\",_context.t0.message);throw new Error(\"Error fetching characters. Please try again later.\");case 15:case\"end\":return _context.stop();}},_callee,null,[[0,11]]);}));function getCharactersWithPagination(_x,_x2){return _getCharactersWithPagination.apply(this,arguments);}return getCharactersWithPagination;}(),getHousesWithPagination:function(){var _getHousesWithPagination=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(page,pageSize){var response,total;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"\".concat(BASE_URL,\"/houses\"),{params:{page:page,pageSize:pageSize}});case 3:response=_context2.sent;total=response.headers[\"x-total-count\"]!==undefined?parseInt(response.headers[\"x-total-count\"],10):0;if(!isNaN(total)){_context2.next=8;break;}console.error(\"Invalid total count from API:\",response.headers[\"x-total-count\"]);throw new Error(\"Invalid total count from API\");case 8:return _context2.abrupt(\"return\",{data:response.data,total:total});case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);console.error(\"Error fetching houses:\",_context2.t0.message);throw new Error(\"Error fetching houses. Please try again later.\");case 15:case\"end\":return _context2.stop();}},_callee2,null,[[0,11]]);}));function getHousesWithPagination(_x3,_x4){return _getHousesWithPagination.apply(this,arguments);}return getHousesWithPagination;}(),getCharacterByUrl:function(){var _getCharacterByUrl=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(url){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return axios.get(url);case 2:response=_context3.sent;return _context3.abrupt(\"return\",response.data);case 4:case\"end\":return _context3.stop();}},_callee3);}));function getCharacterByUrl(_x5){return _getCharacterByUrl.apply(this,arguments);}return getCharacterByUrl;}(),getCharacterById:function(){var _getCharacterById=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(id){var response;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.get(\"\".concat(BASE_URL,\"/characters/\").concat(id));case 3:response=_context4.sent;return _context4.abrupt(\"return\",response.data);case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);console.error(\"Error fetching character by ID:\",_context4.t0.message);throw new Error(\"Error fetching character. Please try again later.\");case 11:case\"end\":return _context4.stop();}},_callee4,null,[[0,7]]);}));function getCharacterById(_x6){return _getCharacterById.apply(this,arguments);}return getCharacterById;}(),getAllegianceByUrl:function(){var _getAllegianceByUrl=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(url){var response;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return axios.get(url);case 3:response=_context5.sent;return _context5.abrupt(\"return\",response.data);case 7:_context5.prev=7;_context5.t0=_context5[\"catch\"](0);console.error(\"Error fetching allegiance by URL (\".concat(url,\"):\"),_context5.t0.message);throw new Error(\"Error fetching allegiance. Please try again later.\");case 11:case\"end\":return _context5.stop();}},_callee5,null,[[0,7]]);}));function getAllegianceByUrl(_x7){return _getAllegianceByUrl.apply(this,arguments);}return getAllegianceByUrl;}()};export default IceAndFireApi;","map":{"version":3,"names":["axios","BASE_URL","IceAndFireApi","getCharactersWithPagination","_getCharactersWithPagination","_asyncToGenerator","_regeneratorRuntime","mark","_callee","page","pageSize","response","total","wrap","_callee$","_context","prev","next","get","concat","params","sent","headers","undefined","parseInt","isNaN","console","error","Error","abrupt","data","t0","message","stop","_x","_x2","apply","arguments","getHousesWithPagination","_getHousesWithPagination","_callee2","_callee2$","_context2","_x3","_x4","getCharacterByUrl","_getCharacterByUrl","_callee3","url","_callee3$","_context3","_x5","getCharacterById","_getCharacterById","_callee4","id","_callee4$","_context4","_x6","getAllegianceByUrl","_getAllegianceByUrl","_callee5","_callee5$","_context5","_x7"],"sources":["/home/eddie/Code/guided-capstone-project/src/services/IceAndFireApi.js"],"sourcesContent":["import axios from \"axios\";\n\nconst BASE_URL = \"https://www.anapioficeandfire.com/api\";\n\nconst IceAndFireApi = {\n    getCharactersWithPagination: async (page, pageSize) => {\n        try {\n            const response = await axios.get(`${BASE_URL}/characters`, {\n                params: {\n                    page,\n                    pageSize,\n                },\n            });\n\n            const total = response.headers[\"x-total-count\"] !== undefined ?\n                parseInt(response.headers[\"x-total-count\"], 10) : 0;\n\n            if (isNaN(total)) {\n                console.error(\"Invalid total count from API:\", response.headers[\"x-total-count\"]);\n                throw new Error(\"Invalid total count from API\");\n            }\n\n            return {\n                data: response.data,\n                total,\n            };\n        } catch (error) {\n            console.error(\"Error fetching characters:\", error.message);\n            throw new Error(\"Error fetching characters. Please try again later.\");\n        }\n    },\n\n    getHousesWithPagination: async (page, pageSize) => {\n        try {\n            const response = await axios.get(`${BASE_URL}/houses`, {\n                params: {\n                    page,\n                    pageSize,\n                },\n            });\n\n            const total = response.headers[\"x-total-count\"] !== undefined ?\n                parseInt(response.headers[\"x-total-count\"], 10) : 0;\n\n            if (isNaN(total)) {\n                console.error(\"Invalid total count from API:\", response.headers[\"x-total-count\"]);\n                throw new Error(\"Invalid total count from API\");\n            }\n\n            return {\n                data: response.data,\n                total,\n            };\n        } catch (error) {\n            console.error(\"Error fetching houses:\", error.message);\n            throw new Error(\"Error fetching houses. Please try again later.\");\n        }\n    },\n\n    getCharacterByUrl: async (url) => {\n        const response = await axios.get(url);\n        return response.data;\n    },\n\n    getCharacterById: async (id) => {\n        try {\n            const response = await axios.get(`${BASE_URL}/characters/${id}`);\n            return response.data;\n        } catch (error) {\n            console.error(\"Error fetching character by ID:\", error.message);\n            throw new Error(\"Error fetching character. Please try again later.\");\n        }\n    },\n\n    getAllegianceByUrl: async (url) => {\n        try {\n            const response = await axios.get(url);\n            return response.data;\n        } catch (error) {\n            console.error(`Error fetching allegiance by URL (${url}):`, error.message);\n            throw new Error(\"Error fetching allegiance. Please try again later.\");\n        }\n    },\n\n};\n\nexport default IceAndFireApi;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}