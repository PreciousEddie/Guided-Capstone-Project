{"ast":null,"code":"import _regeneratorRuntime from\"/home/eddie/Code/guided-capstone-project/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/eddie/Code/guided-capstone-project/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/eddie/Code/guided-capstone-project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import IceAndFireApi from\"../../services/IceAndFireApi\";import{Link}from\"react-router-dom\";import Pagination from\"../../components/Pagination/Pagination\";import{Container,Row,Col,Card,Form}from\"react-bootstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Characters=function Characters(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),characters=_useState2[0],setCharacters=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),currentPage=_useState4[0],setCurrentPage=_useState4[1];var _useState5=useState(10),_useState6=_slicedToArray(_useState5,2),pageSize=_useState6[0],setPageSize=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),totalCharacters=_useState8[0],setTotalCharacters=_useState8[1];var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),error=_useState10[0],setError=_useState10[1];var totalPages=Math.ceil(totalCharacters/pageSize);useEffect(function(){var fetchCharacters=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return IceAndFireApi.getCharactersWithPagination(currentPage,pageSize);case 3:response=_context.sent;console.log(\"API Response:\",response);console.log(\"currentPage:\",currentPage);console.log(\"totalPages:\",Math.ceil(response.total/pageSize));console.log(\"Character URLs:\",response.data.map(function(character){return character.url;}));setCharacters(response.data);setTotalCharacters(response.total);_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);setError(\"Error fetching characters. Please try again later.\");case 15:case\"end\":return _context.stop();}},_callee,null,[[0,12]]);}));return function fetchCharacters(){return _ref.apply(this,arguments);};}();fetchCharacters();},[currentPage,pageSize]);var handlePageChange=function handlePageChange(newPage){setCurrentPage(newPage);};var handlePageSizeChange=function handlePageSizeChange(newSize){setPageSize(newSize);setCurrentPage(1);};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mt-5 mb-4\",children:\"Characters of Westeros and Beyond\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-danger\",children:error}),/*#__PURE__*/_jsx(Row,{children:characters.map(function(character){return/*#__PURE__*/_jsx(Col,{md:4,className:\"mb-4\",children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{children:/*#__PURE__*/_jsx(Link,{to:\"/character/\".concat(character.url.split(\"/\").pop()),children:character.name||(character.aliases.length>0?character.aliases[0]:\"Unnamed\")})}),/*#__PURE__*/_jsxs(Card.Text,{children:[\"Culture: \",character.culture||\"Unknown\",/*#__PURE__*/_jsx(\"br\",{}),\"Gender: \",character.gender===\"Male\"?\"♂️\":character.gender===\"Female\"?\"♀️\":\"Unknown\"]})]})})},character.url);})}),/*#__PURE__*/_jsx(Pagination,{currentPage:currentPage,totalPages:totalPages,onPageChange:handlePageChange}),/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsxs(Form.Group,{controlId:\"pageSizeSelect\",className:\"mt-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Characters per page:\"}),/*#__PURE__*/_jsxs(Form.Control,{as:\"select\",value:pageSize,onChange:function onChange(e){return handlePageSizeChange(parseInt(e.target.value,10));},children:[/*#__PURE__*/_jsx(\"option\",{value:10,children:\"10 per page\"}),/*#__PURE__*/_jsx(\"option\",{value:20,children:\"20 per page\"}),/*#__PURE__*/_jsx(\"option\",{value:50,children:\"50 per page\"})]})]})})]});};export default Characters;","map":{"version":3,"names":["React","useState","useEffect","IceAndFireApi","Link","Pagination","Container","Row","Col","Card","Form","jsx","_jsx","jsxs","_jsxs","Characters","_useState","_useState2","_slicedToArray","characters","setCharacters","_useState3","_useState4","currentPage","setCurrentPage","_useState5","_useState6","pageSize","setPageSize","_useState7","_useState8","totalCharacters","setTotalCharacters","_useState9","_useState10","error","setError","totalPages","Math","ceil","fetchCharacters","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","getCharactersWithPagination","sent","console","log","total","data","map","character","url","t0","stop","apply","arguments","handlePageChange","newPage","handlePageSizeChange","newSize","children","className","md","Body","Title","to","concat","split","pop","name","aliases","length","Text","culture","gender","onPageChange","Group","controlId","Label","Control","as","value","onChange","e","parseInt","target"],"sources":["/home/eddie/Code/guided-capstone-project/src/pages/Characters/Characters.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport IceAndFireApi from \"../../services/IceAndFireApi\";\nimport { Link } from \"react-router-dom\";\nimport Pagination from \"../../components/Pagination/Pagination\";\nimport { Container, Row, Col, Card, Form } from \"react-bootstrap\";\n\nconst Characters = () => {\n    const [characters, setCharacters] = useState([]);\n    const [currentPage, setCurrentPage] = useState(1);\n    const [pageSize, setPageSize] = useState(10);\n    const [totalCharacters, setTotalCharacters] = useState(0);\n    const [error, setError] = useState(null);\n\n    const totalPages = Math.ceil(totalCharacters / pageSize);\n\n    useEffect(() => {\n        const fetchCharacters = async () => {\n            try {\n                const response = await IceAndFireApi.getCharactersWithPagination(currentPage, pageSize);\n                console.log(\"API Response:\", response);\n                console.log(\"currentPage:\", currentPage);\n                console.log(\"totalPages:\", Math.ceil(response.total / pageSize));\n                console.log(\"Character URLs:\", response.data.map(character => character.url));\n                setCharacters(response.data);\n                setTotalCharacters(response.total);\n            } catch (error) {\n                setError(\"Error fetching characters. Please try again later.\");\n            }\n        };\n\n        fetchCharacters();\n    }, [currentPage, pageSize]);\n\n    const handlePageChange = (newPage) => {\n        setCurrentPage(newPage);\n    };\n\n    const handlePageSizeChange = (newSize) => {\n        setPageSize(newSize);\n        setCurrentPage(1);\n    };\n\n    return (\n        <Container>\n            <h1 className=\"mt-5 mb-4\">Characters of Westeros and Beyond</h1>\n            {error && <p className=\"text-danger\">{error}</p>}\n            <Row>\n                {characters.map((character) => (\n                    <Col key={character.url} md={4} className=\"mb-4\">\n                        <Card>\n                            <Card.Body>\n                                <Card.Title>\n                                    <Link to={`/character/${character.url.split(\"/\").pop()}`}>\n                                        {character.name || (character.aliases.length > 0 ? character.aliases[0] : \"Unnamed\")}\n                                    </Link>\n                                </Card.Title>\n                                <Card.Text>\n                                    Culture: {character.culture || \"Unknown\"}\n                                    <br />\n                                    Gender: {character.gender === \"Male\" ? \"♂️\" : character.gender === \"Female\" ? \"♀️\" : \"Unknown\"}\n                                </Card.Text>\n                            </Card.Body>\n                        </Card>\n                    </Col>\n                ))}\n            </Row>\n            <Pagination currentPage={currentPage} totalPages={totalPages} onPageChange={handlePageChange} />\n            <Form>\n                <Form.Group controlId=\"pageSizeSelect\" className=\"mt-3\">\n                    <Form.Label>Characters per page:</Form.Label>\n                    <Form.Control as=\"select\" value={pageSize} onChange={(e) => handlePageSizeChange(parseInt(e.target.value, 10))}>\n                        <option value={10}>10 per page</option>\n                        <option value={20}>20 per page</option>\n                        <option value={50}>50 per page</option>\n                    </Form.Control>\n                </Form.Group>\n            </Form>\n        </Container>\n    );\n};\n\nexport default Characters;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}